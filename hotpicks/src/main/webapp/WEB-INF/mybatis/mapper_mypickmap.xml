<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.kitri.hotpicks.mypicks.dao.MypickMapDao">
 	<select id="getMapList" resultType="mapContentsDto">
 		select contentsid, subject, x, y, cate
 		from contents
 	</select>
 	<select id="selectContentsList" parameterType="map" resultType="mapContentsDto">
 	<![CDATA[
      select * from (
		select contentsid, subject, x, y, cate , to_char(DISTNACE_GRS80(#{x},#{y},x,y),'999,999,999.999') distance
 		from contents)
 		where distance <= #{distance}/999
        order by distance
        ]]>
 	</select>
 </mapper>
 